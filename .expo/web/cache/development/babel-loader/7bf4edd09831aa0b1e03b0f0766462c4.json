{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work\\\\App-Zip\\\\source\\\\screens\\\\NewAppointment\\\\PayPalWebview.js\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport { WebView } from \"react-native-webview\";\nimport { IMAGE } from \"../../images\";\n\nfunction PayPalWebView(_ref) {\n  var _this = this;\n\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  useEffect(function () {\n    console.log(route);\n  }, []);\n\n  var checkForSuccessUrl = function checkForSuccessUrl(url) {\n    var success_url = \"https://cristianlivolsi.co.uk/web_success.php\";\n\n    if (url.indexOf(success_url.toLowerCase()) > -1) {\n      var transaction_no = url.split(\"tx=\")[1];\n      route.params.onReturn(transaction_no);\n      navigation.goBack();\n    }\n  };\n\n  var onPressBack = function onPressBack() {\n    navigation.goBack();\n  };\n\n  var content = function content() {\n    var url = \"https://cristianlivolsi.co.uk/webpayment.php?price=\" + route.params.amount;\n    return React.createElement(View, {\n      style: styles.container,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      style: styles.navigationView,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }\n    }, React.createElement(SafeAreaView, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }\n    }), React.createElement(TouchableOpacity, {\n      style: styles.backButton,\n      onPress: function onPress() {\n        onPressBack();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }\n    }, React.createElement(Image, {\n      style: styles.backIcon,\n      source: IMAGE.back,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }))), React.createElement(WebView, {\n      style: {\n        overflow: \"scroll\"\n      },\n      source: {\n        uri: url\n      },\n      originWhitelist: [\"*\"],\n      mixedContentMode: \"always\",\n      useWebKit: Platform.OS == \"ios\",\n      onError: function onError() {\n        alert(\"Error Occured\");\n        Actions.pop();\n      },\n      onLoadEnd: function onLoadEnd() {},\n      thirdPartyCookiesEnabled: true,\n      scrollEnabled: true,\n      domStorageEnabled: true,\n      startInLoadingState: true,\n      allowUniversalAccessFromFileURLs: true,\n      onMessage: function onMessage(event) {\n        console.log(event);\n      },\n      onNavigationStateChange: function onNavigationStateChange(event) {\n        console.log(event);\n        checkForSuccessUrl(event.url);\n      },\n      javaScriptEnabled: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  return content();\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1.0,\n    paddingTop: 10,\n    backgroundColor: \"#000\"\n  },\n  navigationView: {\n    marginTop: Platform.OS == \"ios\" ? 20 : 8,\n    height: Platform.OS == \"ios\" ? 44 : 56,\n    flexDirection: \"row\"\n  },\n  backButton: {\n    height: Platform.OS == \"ios\" ? 44 : 56,\n    width: Platform.OS == \"ios\" ? 44 : 56,\n    justifyContent: \"center\"\n  },\n  backIcon: {\n    height: 20,\n    width: 20,\n    alignSelf: \"center\"\n  }\n});\nexport default PayPalWebView;","map":{"version":3,"sources":["D:/Work/App-Zip/source/screens/NewAppointment/PayPalWebview.js"],"names":["React","useEffect","useState","WebView","IMAGE","PayPalWebView","route","navigation","console","log","checkForSuccessUrl","url","success_url","indexOf","toLowerCase","transaction_no","split","params","onReturn","goBack","onPressBack","content","amount","styles","container","navigationView","backButton","backIcon","back","overflow","uri","Platform","OS","alert","Actions","pop","event","StyleSheet","create","flex","paddingTop","backgroundColor","marginTop","height","flexDirection","width","justifyContent","alignSelf"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;;;;;;;AAWA,SAASC,OAAT,QAAwB,sBAAxB;AACA,SAASC,KAAT;;AAEA,SAASC,aAAT,OAA8C;AAAA;;AAAA,MAArBC,KAAqB,QAArBA,KAAqB;AAAA,MAAdC,UAAc,QAAdA,UAAc;AAC5CN,EAAAA,SAAS,CAAC,YAAM;AACdO,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAMI,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,GAAD,EAAS;AAClC,QAAIC,WAAW,GAAG,+CAAlB;;AAEA,QAAID,GAAG,CAACE,OAAJ,CAAYD,WAAW,CAACE,WAAZ,EAAZ,IAAyC,CAAC,CAA9C,EAAiD;AAC/C,UAAIC,cAAc,GAAGJ,GAAG,CAACK,KAAJ,CAAU,KAAV,EAAiB,CAAjB,CAArB;AACAV,MAAAA,KAAK,CAACW,MAAN,CAAaC,QAAb,CAAsBH,cAAtB;AACAR,MAAAA,UAAU,CAACY,MAAX;AACD;AACF,GARD;;AAUA,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBb,IAAAA,UAAU,CAACY,MAAX;AACD,GAFD;;AAIA,MAAME,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpB,QAAIV,GAAG,2DAAyDL,KAAK,CAACW,MAAN,CAAaK,MAA7E;AACA,WACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEC,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAED,MAAM,CAACE,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,gBAAD;AACE,MAAA,KAAK,EAAEF,MAAM,CAACG,UADhB;AAEE,MAAA,OAAO,EAAE,mBAAM;AACbN,QAAAA,WAAW;AACZ,OAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAME,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAEG,MAAM,CAACI,QAArB;AAA+B,MAAA,MAAM,EAAEvB,KAAK,CAACwB,IAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CAFF,CADF,EAYE,oBAAC,OAAD;AACE,MAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OADT;AAEE,MAAA,MAAM,EAAE;AAAEC,QAAAA,GAAG,EAAEnB;AAAP,OAFV;AAGE,MAAA,eAAe,EAAE,CAAC,GAAD,CAHnB;AAIE,MAAA,gBAAgB,EAAE,QAJpB;AAKE,MAAA,SAAS,EAAEoB,QAAQ,CAACC,EAAT,IAAe,KAL5B;AAME,MAAA,OAAO,EAAE,mBAAM;AACbC,QAAAA,KAAK,CAAC,eAAD,CAAL;AACAC,QAAAA,OAAO,CAACC,GAAR;AACD,OATH;AAUE,MAAA,SAAS,EAAE,qBAAM,CAAE,CAVrB;AAWE,MAAA,wBAAwB,EAAE,IAX5B;AAYE,MAAA,aAAa,EAAE,IAZjB;AAaE,MAAA,iBAAiB,EAAE,IAbrB;AAcE,MAAA,mBAAmB,EAAE,IAdvB;AAeE,MAAA,gCAAgC,EAAE,IAfpC;AAgBE,MAAA,SAAS,EAAE,mBAACC,KAAD,EAAW;AACpB5B,QAAAA,OAAO,CAACC,GAAR,CAAY2B,KAAZ;AACD,OAlBH;AAmBE,MAAA,uBAAuB,EAAE,iCAACA,KAAD,EAAW;AAClC5B,QAAAA,OAAO,CAACC,GAAR,CAAY2B,KAAZ;AACA1B,QAAAA,kBAAkB,CAAC0B,KAAK,CAACzB,GAAP,CAAlB;AACD,OAtBH;AAuBE,MAAA,iBAAiB,EAAE,IAvBrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZF,CADF;AAwCD,GA1CD;;AA2CA,SAAOU,OAAO,EAAd;AACD;;AACD,IAAME,MAAM,GAAGc,UAAU,CAACC,MAAX,CAAkB;AAC/Bd,EAAAA,SAAS,EAAE;AACTe,IAAAA,IAAI,EAAE,GADG;AAETC,IAAAA,UAAU,EAAE,EAFH;AAGTC,IAAAA,eAAe,EAAE;AAHR,GADoB;AAM/BhB,EAAAA,cAAc,EAAE;AACdiB,IAAAA,SAAS,EAAEX,QAAQ,CAACC,EAAT,IAAe,KAAf,GAAuB,EAAvB,GAA4B,CADzB;AAEdW,IAAAA,MAAM,EAAEZ,QAAQ,CAACC,EAAT,IAAe,KAAf,GAAuB,EAAvB,GAA4B,EAFtB;AAGdY,IAAAA,aAAa,EAAE;AAHD,GANe;AAW/BlB,EAAAA,UAAU,EAAE;AACViB,IAAAA,MAAM,EAAEZ,QAAQ,CAACC,EAAT,IAAe,KAAf,GAAuB,EAAvB,GAA4B,EAD1B;AAEVa,IAAAA,KAAK,EAAEd,QAAQ,CAACC,EAAT,IAAe,KAAf,GAAuB,EAAvB,GAA4B,EAFzB;AAGVc,IAAAA,cAAc,EAAE;AAHN,GAXmB;AAgB/BnB,EAAAA,QAAQ,EAAE;AACRgB,IAAAA,MAAM,EAAE,EADA;AAERE,IAAAA,KAAK,EAAE,EAFC;AAGRE,IAAAA,SAAS,EAAE;AAHH;AAhBqB,CAAlB,CAAf;AAuBA,eAAe1C,aAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  View,\n  Text,\n  StyleSheet,\n  SafeAreaView,\n  Platform,\n  TouchableOpacity,\n  Image,\n  StatusBar,\n} from \"react-native\";\nimport { WebView } from \"react-native-webview\";\nimport { IMAGE } from \"../../images\";\n\nfunction PayPalWebView({ route, navigation }) {\n  useEffect(() => {\n    console.log(route);\n  }, []);\n\n  const checkForSuccessUrl = (url) => {\n    let success_url = \"https://cristianlivolsi.co.uk/web_success.php\";\n\n    if (url.indexOf(success_url.toLowerCase()) > -1) {\n      let transaction_no = url.split(\"tx=\")[1];\n      route.params.onReturn(transaction_no);\n      navigation.goBack();\n    }\n  };\n\n  const onPressBack = () => {\n    navigation.goBack();\n  };\n\n  const content = () => {\n    let url = `https://cristianlivolsi.co.uk/webpayment.php?price=${route.params.amount}`;\n    return (\n      <View style={styles.container}>\n        <View style={styles.navigationView}>\n          <SafeAreaView />\n          <TouchableOpacity\n            style={styles.backButton}\n            onPress={() => {\n              onPressBack();\n            }}\n          >\n            <Image style={styles.backIcon} source={IMAGE.back} />\n          </TouchableOpacity>\n        </View>\n        <WebView\n          style={{ overflow: \"scroll\" }}\n          source={{ uri: url }}\n          originWhitelist={[\"*\"]}\n          mixedContentMode={\"always\"}\n          useWebKit={Platform.OS == \"ios\"}\n          onError={() => {\n            alert(\"Error Occured\");\n            Actions.pop();\n          }}\n          onLoadEnd={() => {}}\n          thirdPartyCookiesEnabled={true}\n          scrollEnabled={true}\n          domStorageEnabled={true}\n          startInLoadingState={true}\n          allowUniversalAccessFromFileURLs={true}\n          onMessage={(event) => {\n            console.log(event);\n          }}\n          onNavigationStateChange={(event) => {\n            console.log(event);\n            checkForSuccessUrl(event.url);\n          }}\n          javaScriptEnabled={true}\n        />\n      </View>\n    );\n  };\n  return content();\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1.0,\n    paddingTop: 10,\n    backgroundColor: \"#000\",\n  },\n  navigationView: {\n    marginTop: Platform.OS == \"ios\" ? 20 : 8,\n    height: Platform.OS == \"ios\" ? 44 : 56,\n    flexDirection: \"row\",\n  },\n  backButton: {\n    height: Platform.OS == \"ios\" ? 44 : 56,\n    width: Platform.OS == \"ios\" ? 44 : 56,\n    justifyContent: \"center\",\n  },\n  backIcon: {\n    height: 20,\n    width: 20,\n    alignSelf: \"center\",\n  },\n});\n\nexport default PayPalWebView;\n"]},"metadata":{},"sourceType":"module"}