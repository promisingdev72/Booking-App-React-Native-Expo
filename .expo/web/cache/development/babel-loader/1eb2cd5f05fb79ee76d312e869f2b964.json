{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\Work\\\\App-Zip\\\\source\\\\screens\\\\Appointment\\\\index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport styles from \"./styles\";\nimport { COLOR } from \"../../colors\";\nimport { IMAGE } from \"../../images\";\nimport { userData, apiCallGetBookingDetails } from \"../../networkcall\";\nimport AppointmentCell from \"../../component/AppointmentCell\";\nimport SnackView from \"../../component/SnackView\";\nimport SmallLoader from \"../../component/SmallLoader\";\n\nvar Appointment = function (_Component) {\n  _inherits(Appointment, _Component);\n\n  var _super = _createSuper(Appointment);\n\n  function Appointment() {\n    var _this;\n\n    _classCallCheck(this, Appointment);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      selectedTab: 1,\n      loading: true,\n      data: [],\n      data_history: []\n    };\n\n    _this.onMenuPress = function () {\n      _this.props.openDrawer();\n    };\n\n    return _this;\n  }\n\n  _createClass(Appointment, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.onLoad();\n    }\n  }, {\n    key: \"onLoad\",\n    value: function onLoad() {\n      var _this2 = this;\n\n      this.setState({\n        loading: true\n      });\n      userData().then(function (data) {\n        apiCallGetBookingDetails(data.id, 0).then(function (response) {\n          _this2.setState({\n            loading: false\n          });\n\n          var data = response.data;\n          var status = data.status;\n          var message = data.message;\n\n          if (status) {\n            _this2.setState({\n              data: data.data,\n              loading: false\n            });\n          } else {\n            _this2.setState({\n              data: [],\n              loading: false\n            }, function () {\n              _this2.refSnackView.showSnack(message);\n            });\n          }\n        }).catch(function (error) {\n          _this2.setState({\n            data: [],\n            loading: false\n          }, function () {\n            _this2.refSnackView.showSnack(error.message);\n          });\n        });\n      });\n    }\n  }, {\n    key: \"loadHistory\",\n    value: function loadHistory() {\n      var _this3 = this;\n\n      this.setState({\n        loading: true\n      });\n      userData().then(function (data) {\n        apiCallGetBookingDetails(data.id, 1).then(function (response) {\n          _this3.setState({\n            loading: false\n          });\n\n          var data = response.data;\n          var status = data.status;\n          var message = data.message;\n\n          if (status) {\n            _this3.setState({\n              data_history: data.data,\n              loading: false\n            });\n          } else {\n            _this3.setState({\n              data_history: [],\n              loading: false\n            }, function () {\n              _this3.refSnackView.showSnack(message);\n            });\n          }\n        }).catch(function (error) {\n          _this3.setState({\n            data_history: [],\n            loading: false\n          }, function () {\n            _this3.refSnackView.showSnack(error.message);\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var selectedTab = this.state.selectedTab;\n      return React.createElement(View, {\n        style: styles.container,\n        source: IMAGE.splash,\n        resizeMode: \"cover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 7\n        }\n      }, React.createElement(SafeAreaView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 9\n        }\n      }), this.renderStatusBar(), React.createElement(View, {\n        style: styles.navigationView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          _this4.onMenuPress();\n        },\n        style: styles.navigationMenuContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }\n      }, React.createElement(Image, {\n        source: IMAGE.menu,\n        style: styles.navigationMenu,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }\n      })), React.createElement(Text, {\n        style: styles.navigationTitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }\n      }, \"My Appointments\")), React.createElement(View, {\n        style: styles.topTabContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: selectedTab == 1 ? styles.tabSelected : styles.tabDeselected,\n        onPress: function onPress() {\n          _this4.setState({\n            selectedTab: 1\n          });\n\n          _this4.onLoad();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: selectedTab == 1 ? styles.tabSelectedTxt : styles.tabTxt,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }\n      }, \"UPCOMING\")), React.createElement(TouchableOpacity, {\n        style: selectedTab == 2 ? styles.tabSelected : styles.tabDeselected,\n        onPress: function onPress() {\n          _this4.setState({\n            selectedTab: 2\n          });\n\n          _this4.loadHistory();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: selectedTab == 2 ? styles.tabSelectedTxt : styles.tabTxt,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }\n      }, \"PREVIOUS\"))), selectedTab == 1 ? this.renderUpcoming() : this.renderPrevious(), React.createElement(SnackView, {\n        ref: function ref(refSnackView) {\n          return _this4.refSnackView = refSnackView;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 9\n        }\n      }), React.createElement(SafeAreaView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }\n      }));\n    }\n  }, {\n    key: \"renderStatusBar\",\n    value: function renderStatusBar() {\n      if (Platform.OS == \"ios\") {\n        return React.createElement(StatusBar, {\n          barStyle: \"light-content\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 14\n          }\n        });\n      } else {\n        return React.createElement(StatusBar, {\n          currentHeight: 20,\n          barStyle: \"light-content\",\n          backgroundColor: COLOR.gold,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 9\n          }\n        });\n      }\n    }\n  }, {\n    key: \"renderUpcoming\",\n    value: function renderUpcoming() {\n      var _this5 = this;\n\n      var _this$state = this.state,\n          loading = _this$state.loading,\n          data = _this$state.data,\n          data_history = _this$state.data_history;\n\n      if (loading) {\n        return React.createElement(View, {\n          style: {\n            justifyContent: \"center\",\n            height: 100\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 9\n          }\n        }, React.createElement(ActivityIndicator, {\n          style: {\n            alignSelf: \"center\"\n          },\n          color: \"#fff\",\n          animating: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 11\n          }\n        }));\n      }\n\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 7\n        }\n      }, data.length > 0 ? React.createElement(FlatList, {\n        data: data,\n        showsVerticalScrollIndicator: false,\n        extraData: this.state,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item,\n              index = _ref.index;\n          return React.createElement(AppointmentCell, {\n            item: item,\n            index: index,\n            onPress: function onPress(item) {\n              _this5.props.navigation.navigate(\"BookedAppointment\", {\n                name: item.barbar_name,\n                services: item.service_name,\n                times: item.time,\n                date: item.booking_date,\n                total: item.price,\n                is_from_appointment: true\n              });\n            },\n            __self: _this5,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }\n      }) : React.createElement(Text, {\n        style: styles.emptyView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }\n      }, \"No upcoming appointment found\"));\n    }\n  }, {\n    key: \"renderPrevious\",\n    value: function renderPrevious() {\n      var _this6 = this;\n\n      var _this$state2 = this.state,\n          loading = _this$state2.loading,\n          data_history = _this$state2.data_history;\n\n      if (loading) {\n        return React.createElement(View, {\n          style: {\n            justifyContent: \"center\",\n            height: 100\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 9\n          }\n        }, React.createElement(ActivityIndicator, {\n          style: {\n            alignSelf: \"center\"\n          },\n          color: \"#333\",\n          animating: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 11\n          }\n        }));\n      }\n\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 7\n        }\n      }, data_history.length > 0 ? React.createElement(FlatList, {\n        data: data_history,\n        showsVerticalScrollIndicator: false,\n        extraData: this.state,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        renderItem: function renderItem(_ref2) {\n          var item = _ref2.item,\n              index = _ref2.index;\n          return React.createElement(AppointmentCell, {\n            item: item,\n            index: index,\n            onPress: function onPress(item) {\n              _this6.props.navigation.navigate(\"BookedAppointment\", {\n                name: item.barbar_name,\n                services: item.service_name,\n                times: item.time,\n                date: item.booking_date,\n                total: item.price,\n                is_from_appointment: true\n              });\n            },\n            __self: _this6,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }\n      }) : React.createElement(Text, {\n        style: styles.emptyView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }\n      }, \"No appointment history found\"));\n    }\n  }]);\n\n  return Appointment;\n}(Component);\n\nexport { Appointment as default };","map":{"version":3,"sources":["D:/Work/App-Zip/source/screens/Appointment/index.js"],"names":["React","Component","styles","COLOR","IMAGE","userData","apiCallGetBookingDetails","AppointmentCell","SnackView","SmallLoader","Appointment","state","selectedTab","loading","data","data_history","onMenuPress","props","openDrawer","onLoad","setState","then","id","response","status","message","refSnackView","showSnack","catch","error","container","splash","renderStatusBar","navigationView","navigationMenuContainer","menu","navigationMenu","navigationTitle","topTabContainer","tabSelected","tabDeselected","tabSelectedTxt","tabTxt","loadHistory","renderUpcoming","renderPrevious","Platform","OS","gold","justifyContent","height","alignSelf","length","item","index","toString","navigation","navigate","name","barbar_name","services","service_name","times","time","date","booking_date","total","price","is_from_appointment","emptyView"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  FlatList,\n  TouchableOpacity,\n  Text,\n  View,\n  SafeAreaView,\n  Image,\n  ActivityIndicator,\n  StatusBar,\n} from \"react-native\";\nimport styles from \"./styles\";\n\nimport { COLOR } from \"../../colors\";\nimport { IMAGE } from \"../../images\";\n\nimport { userData, apiCallGetBookingDetails } from \"../../networkcall\";\n\nimport AppointmentCell from \"../../component/AppointmentCell\";\nimport SnackView from \"../../component/SnackView\";\nimport SmallLoader from \"../../component/SmallLoader\";\n\nexport default class Appointment extends Component {\n  state = {\n    selectedTab: 1,\n    loading: true,\n    data: [],\n    data_history: [],\n  };\n\n  componentDidMount() {\n    this.onLoad();\n  }\n\n  onLoad() {\n    this.setState({ loading: true });\n    userData().then((data) => {\n      apiCallGetBookingDetails(data.id, 0)\n        .then((response) => {\n          this.setState({ loading: false });\n          let data = response.data;\n          let status = data.status;\n          let message = data.message;\n          if (status) {\n            this.setState({\n              data: data.data,\n              loading: false,\n            });\n          } else {\n            this.setState(\n              {\n                data: [],\n                loading: false,\n              },\n              () => {\n                this.refSnackView.showSnack(message);\n              }\n            );\n          }\n        })\n        .catch((error) => {\n          this.setState(\n            {\n              data: [],\n              loading: false,\n            },\n            () => {\n              this.refSnackView.showSnack(error.message);\n            }\n          );\n        });\n    });\n  }\n\n  loadHistory() {\n    this.setState({ loading: true });\n    userData().then((data) => {\n      apiCallGetBookingDetails(data.id, 1)\n        .then((response) => {\n          this.setState({ loading: false });\n          let data = response.data;\n          let status = data.status;\n          let message = data.message;\n          if (status) {\n            this.setState({\n              data_history: data.data,\n              loading: false,\n            });\n          } else {\n            this.setState(\n              {\n                data_history: [],\n                loading: false,\n              },\n              () => {\n                this.refSnackView.showSnack(message);\n              }\n            );\n          }\n        })\n        .catch((error) => {\n          this.setState(\n            {\n              data_history: [],\n              loading: false,\n            },\n            () => {\n              this.refSnackView.showSnack(error.message);\n            }\n          );\n        });\n    });\n  }\n\n  onMenuPress = () => {\n    this.props.openDrawer();\n  };\n\n  render() {\n    const { selectedTab } = this.state;\n    return (\n      <View style={styles.container} source={IMAGE.splash} resizeMode=\"cover\">\n        <SafeAreaView />\n        {this.renderStatusBar()}\n        <View style={styles.navigationView}>\n          <TouchableOpacity\n            onPress={() => {\n              this.onMenuPress();\n            }}\n            style={styles.navigationMenuContainer}\n          >\n            <Image source={IMAGE.menu} style={styles.navigationMenu} />\n          </TouchableOpacity>\n          <Text style={styles.navigationTitle}>My Appointments</Text>\n        </View>\n        <View style={styles.topTabContainer}>\n          <TouchableOpacity\n            style={selectedTab == 1 ? styles.tabSelected : styles.tabDeselected}\n            onPress={() => {\n              this.setState({\n                selectedTab: 1,\n              });\n              this.onLoad();\n            }}\n          >\n            <Text\n              style={selectedTab == 1 ? styles.tabSelectedTxt : styles.tabTxt}\n            >\n              {\"UPCOMING\"}\n            </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={selectedTab == 2 ? styles.tabSelected : styles.tabDeselected}\n            onPress={() => {\n              this.setState({\n                selectedTab: 2,\n              });\n              this.loadHistory();\n            }}\n          >\n            <Text\n              style={selectedTab == 2 ? styles.tabSelectedTxt : styles.tabTxt}\n            >\n              {\"PREVIOUS\"}\n            </Text>\n          </TouchableOpacity>\n        </View>\n        {selectedTab == 1 ? this.renderUpcoming() : this.renderPrevious()}\n        <SnackView ref={(refSnackView) => (this.refSnackView = refSnackView)} />\n        <SafeAreaView />\n      </View>\n    );\n  }\n\n  renderStatusBar() {\n    if (Platform.OS == \"ios\") {\n      return <StatusBar barStyle=\"light-content\" />;\n    } else {\n      return (\n        <StatusBar\n          currentHeight={20}\n          barStyle=\"light-content\"\n          backgroundColor={COLOR.gold}\n        />\n      );\n    }\n  }\n\n  renderUpcoming() {\n    const { loading, data, data_history } = this.state;\n\n    if (loading) {\n      return (\n        <View style={{ justifyContent: \"center\", height: 100 }}>\n          <ActivityIndicator\n            style={{ alignSelf: \"center\" }}\n            color=\"#fff\"\n            animating={true}\n          />\n        </View>\n      );\n    }\n\n    return (\n      <View style={styles.container}>\n        {data.length > 0 ? (\n          <FlatList\n            data={data}\n            showsVerticalScrollIndicator={false}\n            extraData={this.state}\n            keyExtractor={(item, index) => index.toString()}\n            renderItem={({ item, index }) => {\n              return (\n                <AppointmentCell\n                  item={item}\n                  index={index}\n                  onPress={(item) => {\n                    this.props.navigation.navigate(\"BookedAppointment\", {\n                      name: item.barbar_name,\n                      services: item.service_name,\n                      times: item.time,\n                      date: item.booking_date,\n                      total: item.price,\n                      is_from_appointment: true,\n                    });\n                  }}\n                />\n              );\n            }}\n          />\n        ) : (\n          <Text style={styles.emptyView}>No upcoming appointment found</Text>\n        )}\n      </View>\n    );\n  }\n\n  renderPrevious() {\n    const { loading, data_history } = this.state;\n\n    if (loading) {\n      return (\n        <View style={{ justifyContent: \"center\", height: 100 }}>\n          <ActivityIndicator\n            style={{ alignSelf: \"center\" }}\n            color=\"#333\"\n            animating={true}\n          />\n        </View>\n      );\n    }\n\n    return (\n      <View style={styles.container}>\n        {data_history.length > 0 ? (\n          <FlatList\n            data={data_history}\n            showsVerticalScrollIndicator={false}\n            extraData={this.state}\n            keyExtractor={(item, index) => index.toString()}\n            renderItem={({ item, index }) => {\n              return (\n                <AppointmentCell\n                  item={item}\n                  index={index}\n                  onPress={(item) => {\n                    this.props.navigation.navigate(\"BookedAppointment\", {\n                      name: item.barbar_name,\n                      services: item.service_name,\n                      times: item.time,\n                      date: item.booking_date,\n                      total: item.price,\n                      is_from_appointment: true,\n                    });\n                  }}\n                />\n              );\n            }}\n          />\n        ) : (\n          <Text style={styles.emptyView}>No appointment history found</Text>\n        )}\n      </View>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}