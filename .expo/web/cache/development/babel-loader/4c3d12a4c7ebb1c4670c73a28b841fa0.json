{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\Work\\\\App-Zip\\\\source\\\\screens\\\\Menu\\\\index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport styles from \"./styles\";\nimport { userData, apiCallGetUserDetail } from \"../../networkcall\";\nimport { COLOR } from \"../../colors\";\nimport { IMAGE } from \"../../images\";\nimport { CommonActions } from \"@react-navigation/native\";\nimport { Storage } from \"../../constants/GPStorage\";\nimport { EventRegister } from \"react-native-event-listeners\";\n\nvar Welcome = function (_Component) {\n  _inherits(Welcome, _Component);\n\n  var _super = _createSuper(Welcome);\n\n  function Welcome(props) {\n    var _this;\n\n    _classCallCheck(this, Welcome);\n\n    _this = _super.call(this, props);\n\n    _this.onPress = function () {\n      _this.props.navigation.navigate(\"Login\");\n    };\n\n    _this.navigation = _this.props.navigation;\n    _this.menuItems = [{\n      label: \"Home\",\n      icon: IMAGE.home,\n      callBack: function callBack() {\n        _this.navigation.navigate(\"Home\");\n      }\n    }, {\n      label: \"My appointments\",\n      icon: IMAGE.calender,\n      callBack: function callBack() {\n        _this.navigation.navigate(\"Appointment\");\n      }\n    }, {\n      label: \"Book an appointment\",\n      icon: IMAGE.new_appo,\n      callBack: function callBack() {\n        _this.navigation.navigate(\"NewAppointment\");\n      }\n    }, {\n      label: \"Services\",\n      icon: IMAGE.product,\n      callBack: function callBack() {\n        _this.navigation.navigate(\"Products\");\n      }\n    }, {\n      label: \"Change Password\",\n      icon: IMAGE.changePassword,\n      callBack: function callBack() {\n        _this.navigation.navigate(\"ChangePassword\");\n      }\n    }, {\n      label: \"My Account\",\n      icon: IMAGE.profile,\n      callBack: function callBack() {\n        _this.navigation.navigate(\"Profile\");\n      }\n    }, {\n      label: \"Logout\",\n      icon: IMAGE.logout,\n      callBack: function callBack() {\n        Storage.clearAsyncItem(\"userData\");\n\n        _this.navigation.dispatch(function (state) {\n          return CommonActions.reset({\n            index: 0,\n            routes: [{\n              name: \"Login\"\n            }]\n          });\n        });\n      }\n    }];\n    _this.state = {\n      user_name: \"\",\n      profile_image: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Welcome, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.listener = EventRegister.addEventListener(\"myCustomEvent\", function (datas) {\n        _this2.fetchUserData();\n      });\n      this.fetchUserData();\n    }\n  }, {\n    key: \"fetchUserData\",\n    value: function fetchUserData() {\n      var _this3 = this;\n\n      apiCallGetUserDetail().then(function (response) {\n        _this3.setState({\n          loading: false\n        });\n\n        var data = response.data;\n        var status = data.status;\n        var message = data.message;\n\n        if (status) {\n          var user_data = data.data[0];\n\n          _this3.setState({\n            user_name: user_data.username,\n            profile_image: user_data.profile_image\n          });\n        } else {\n          userData().then(function (data) {\n            _this3.setState({\n              user_name: data.username,\n              profile_image: data.profile_image\n            });\n          }).catch(function (error) {\n            return console.log(error);\n          });\n        }\n      }).catch(function (error) {\n        userData().then(function (data) {\n          _this3.setState({\n            user_name: data.username,\n            profile_image: data.profile_image\n          });\n        }).catch(function (error) {\n          return console.log(error);\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      EventRegister.removeEventListener(this.listener);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var navigation = this.navigation;\n      return React.createElement(View, {\n        style: styles.container,\n        source: IMAGE.splash,\n        resizeMode: \"cover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 7\n        }\n      }, this.renderStatusBar(), React.createElement(SafeAreaView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 9\n        }\n      }), this.renderProfilePic(), this.renderMenu());\n    }\n  }, {\n    key: \"renderMenu\",\n    value: function renderMenu() {\n      var _this4 = this;\n\n      return React.createElement(View, {\n        style: {\n          flex: 1.0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 7\n        }\n      }, React.createElement(ScrollView, {\n        contentContainerStyle: {\n          flex: 1.0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1.0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }\n      }, this.menuItems.map(function (element) {\n        return React.createElement(View, {\n          style: styles.menuItemBg,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            _this4.props.onClose(), element.callBack();\n          },\n          style: styles.menuSideBar,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 17\n          }\n        }, React.createElement(Image, {\n          source: element.icon,\n          style: styles.sidebarMenuImage,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 19\n          }\n        }), React.createElement(Text, {\n          style: styles.menuText,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 19\n          }\n        }, element.label)));\n      }))), React.createElement(Image, {\n        source: IMAGE.logo,\n        style: styles.sideBarLogo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 9\n        }\n      }));\n    }\n  }, {\n    key: \"renderProfilePic\",\n    value: function renderProfilePic() {\n      var _this5 = this;\n\n      return React.createElement(TouchableOpacity, {\n        activeOpacity: 1.0,\n        onPress: function onPress() {\n          _this5.props.onClose();\n\n          _this5.navigation.navigate(\"Profile\");\n        },\n        style: styles.userProPicContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 7\n        }\n      }, this.state.profile_image ? React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }\n      }, React.createElement(Image, {\n        style: styles.userProPic,\n        source: {\n          uri: this.state.profile_image\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }\n      })) : null, !this.state.profile_image ? React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }\n      }, React.createElement(Image, {\n        style: styles.userProPicPlaceHolder,\n        source: IMAGE.propic_place,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }\n      })) : null, React.createElement(View, {\n        style: {\n          flex: 1.0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.userName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }\n      }, this.state.user_name), React.createElement(Text, {\n        style: styles.my_account,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }\n      }, \"My Account\")), React.createElement(Image, {\n        source: IMAGE.next,\n        style: styles.next,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 9\n        }\n      }));\n    }\n  }, {\n    key: \"renderStatusBar\",\n    value: function renderStatusBar() {\n      return React.createElement(StatusBar, {\n        currentHeight: 20,\n        barStyle: \"light-content\",\n        backgroundColor: COLOR.gold,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 7\n        }\n      });\n    }\n  }]);\n\n  return Welcome;\n}(Component);\n\nexport { Welcome as default };","map":{"version":3,"sources":["D:/Work/App-Zip/source/screens/Menu/index.js"],"names":["React","Component","styles","userData","apiCallGetUserDetail","COLOR","IMAGE","CommonActions","Storage","EventRegister","Welcome","props","onPress","navigation","navigate","menuItems","label","icon","home","callBack","calender","new_appo","product","changePassword","profile","logout","clearAsyncItem","dispatch","state","reset","index","routes","name","user_name","profile_image","listener","addEventListener","datas","fetchUserData","then","response","setState","loading","data","status","message","user_data","username","catch","error","console","log","removeEventListener","container","splash","renderStatusBar","renderProfilePic","renderMenu","flex","map","element","menuItemBg","onClose","menuSideBar","sidebarMenuImage","menuText","logo","sideBarLogo","userProPicContainer","userProPic","uri","userProPicPlaceHolder","propic_place","userName","my_account","next","gold"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  ImageBackground,\n  TouchableOpacity,\n  ScrollView,\n  Text,\n  View,\n  SafeAreaView,\n  Image,\n  StatusBar,\n} from \"react-native\";\nimport styles from \"./styles\";\nimport { userData, apiCallGetUserDetail } from \"../../networkcall\";\nimport { COLOR } from \"../../colors\";\nimport { IMAGE } from \"../../images\";\nimport { CommonActions } from \"@react-navigation/native\";\nimport { Storage } from \"../../constants/GPStorage\";\nimport { EventRegister } from \"react-native-event-listeners\";\n\nexport default class Welcome extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      user_name: \"\",\n      profile_image: \"\",\n    };\n  }\n\n  componentDidMount() {\n    this.listener = EventRegister.addEventListener(\"myCustomEvent\", (datas) => {\n      this.fetchUserData();\n    });\n\n    this.fetchUserData();\n  }\n\n  fetchUserData() {\n    apiCallGetUserDetail()\n      .then((response) => {\n        this.setState({ loading: false });\n        let data = response.data;\n        let status = data.status;\n        let message = data.message;\n        if (status) {\n          let user_data = data.data[0];\n          this.setState({\n            user_name: user_data.username,\n            profile_image: user_data.profile_image,\n          });\n        } else {\n          userData()\n            .then((data) => {\n              this.setState({\n                user_name: data.username,\n                profile_image: data.profile_image,\n              });\n            })\n            .catch((error) => console.log(error));\n        }\n      })\n      .catch((error) => {\n        userData()\n          .then((data) => {\n            this.setState({\n              user_name: data.username,\n              profile_image: data.profile_image,\n            });\n          })\n          .catch((error) => console.log(error));\n      });\n  }\n\n  componentWillUnmount() {\n    EventRegister.removeEventListener(this.listener);\n  }\n\n  onPress = () => {\n    this.props.navigation.navigate(\"Login\");\n  };\n\n  navigation = this.props.navigation;\n\n  menuItems = [\n    {\n      label: \"Home\",\n      icon: IMAGE.home,\n      callBack: () => {\n        this.navigation.navigate(\"Home\");\n      },\n    },\n    {\n      label: \"My appointments\",\n      icon: IMAGE.calender,\n      callBack: () => {\n        this.navigation.navigate(\"Appointment\");\n      },\n    },\n    {\n      label: \"Book an appointment\",\n      icon: IMAGE.new_appo,\n      callBack: () => {\n        this.navigation.navigate(\"NewAppointment\");\n      },\n    },\n    {\n      label: \"Services\",\n      icon: IMAGE.product,\n      callBack: () => {\n        this.navigation.navigate(\"Products\");\n      },\n    },\n    {\n      label: \"Change Password\",\n      icon: IMAGE.changePassword,\n      callBack: () => {\n        this.navigation.navigate(\"ChangePassword\");\n      },\n    },\n    {\n      label: \"My Account\",\n      icon: IMAGE.profile,\n      callBack: () => {\n        this.navigation.navigate(\"Profile\");\n      },\n    },\n    {\n      label: \"Logout\",\n      icon: IMAGE.logout,\n      callBack: () => {\n        Storage.clearAsyncItem(\"userData\");\n        this.navigation.dispatch((state) => {\n          //Navigate Tabbar screen\n          return CommonActions.reset({\n            index: 0,\n            routes: [{ name: \"Login\" }],\n          });\n        });\n      },\n    },\n  ];\n\n  render() {\n    let navigation = this.navigation;\n\n    return (\n      <View style={styles.container} source={IMAGE.splash} resizeMode=\"cover\">\n        {this.renderStatusBar()}\n        <SafeAreaView />\n\n        {this.renderProfilePic()}\n        {this.renderMenu()}\n      </View>\n    );\n  }\n\n  renderMenu() {\n    return (\n      <View style={{ flex: 1.0 }}>\n        <ScrollView contentContainerStyle={{ flex: 1.0 }}>\n          <View style={{ flex: 1.0 }}>\n            {this.menuItems.map((element) => (\n              <View style={styles.menuItemBg}>\n                <TouchableOpacity\n                  onPress={() => {\n                    this.props.onClose(), element.callBack();\n                  }}\n                  style={styles.menuSideBar}\n                >\n                  <Image\n                    source={element.icon}\n                    style={styles.sidebarMenuImage}\n                  />\n                  <Text style={styles.menuText}>{element.label}</Text>\n                </TouchableOpacity>\n              </View>\n            ))}\n          </View>\n        </ScrollView>\n\n        <Image source={IMAGE.logo} style={styles.sideBarLogo} />\n      </View>\n    );\n  }\n\n  renderProfilePic() {\n    return (\n      <TouchableOpacity\n        activeOpacity={1.0}\n        onPress={() => {\n          this.props.onClose();\n          this.navigation.navigate(\"Profile\");\n        }}\n        style={styles.userProPicContainer}\n      >\n        {this.state.profile_image ? (\n          <View>\n            <Image\n              style={styles.userProPic}\n              source={{ uri: this.state.profile_image }}\n            />\n          </View>\n        ) : null}\n\n        {!this.state.profile_image ? (\n          <View>\n            <Image\n              style={styles.userProPicPlaceHolder}\n              source={IMAGE.propic_place}\n            />\n          </View>\n        ) : null}\n\n        <View style={{ flex: 1.0 }}>\n          <Text style={styles.userName}>{this.state.user_name}</Text>\n          <Text style={styles.my_account}>My Account</Text>\n        </View>\n        <Image source={IMAGE.next} style={styles.next} />\n      </TouchableOpacity>\n    );\n  }\n\n  renderStatusBar() {\n    return (\n      <StatusBar\n        currentHeight={20}\n        barStyle=\"light-content\"\n        backgroundColor={COLOR.gold}\n      />\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}